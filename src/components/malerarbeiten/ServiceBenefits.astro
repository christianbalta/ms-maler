---
interface Benefit {
  icon: string;
  title: string;
  description: string;
}

const benefits: Benefit[] = [
  {
    icon: "fa-shield-alt",
    title: "Qualitätsgarantie",
    description: "5 Jahre Garantie auf alle unsere Arbeiten. Wir stehen zu unserer Qualität."
  },
  {
    icon: "fa-clock",
    title: "Pünktlichkeit",
    description: "Termintreue ist für uns selbstverständlich. Ihre Zeit ist kostbar."
  },
  {
    icon: "fa-leaf",
    title: "Umweltfreundlich",
    description: "Verwendung umweltschonender Farben und nachhaltiger Arbeitsmethoden."
  },
  {
    icon: "fa-certificate",
    title: "Zertifiziert",
    description: "Ausgebildete Fachkräfte mit allen notwendigen Zertifikationen."
  },
  {
    icon: "fa-broom",
    title: "Saubere Arbeit",
    description: "Professioneller Schutz Ihrer Möbel und gründliche Reinigung nach Abschluss."
  },
  {
    icon: "fa-coins",
    title: "Faire Preise",
    description: "Transparente Preisgestaltung ohne versteckte Kosten. Festpreisgarantie."
  }
];

interface Statistic {
  value: string;
  label: string;
  suffix?: string;
}

const statistics: Statistic[] = [
  {value: "500", label: "Projekte", suffix: "+"},
  {value: "98", label: "Zufriedenheit", suffix: "%"},
  {value: "15", label: "Jahre Erfahrung", suffix: "+"},
  {value: "24", label: "Antwortzeit", suffix: "h"}
];
---

<section class="py-20 sm:py-24 bg-white overflow-hidden" data-animate>
  <div class="container mx-auto max-w-7xl px-4 sm:px-6">
    <div class="grid lg:grid-cols-2 gap-12 lg:gap-16 items-center">
      <!-- Left column - Benefits -->
      <div>
        <p class="text-xs tracking-[0.18em] text-[var(--color-professional)] font-medium uppercase mb-3">
          Ihre Vorteile
        </p>
        <h2 class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-gray-900 leading-tight mb-5">
          Warum Kunden uns vertrauen
        </h2>
        <p class="text-lg text-gray-600 mb-8">
          Qualität, Zuverlässigkeit und faire Preise – das macht uns zu Ihrem idealen Partner.
        </p>

        <!-- Benefits grid -->
        <div class="grid sm:grid-cols-2 gap-6">
          {benefits.map((benefit, index) => (
              <div
                  class="flex gap-4 group"
                  style={`animation-delay: ${index * 50}ms`}
              >
                <div class="flex-shrink-0">
                  <div
                      class="w-12 h-12 rounded-lg bg-gradient-to-br from-[var(--color-paint-blue)]/10 to-[var(--color-trust)]/10 flex items-center justify-center group-hover:scale-110 transition-transform duration-300">
                    <i class={`fas ${benefit.icon} text-[var(--color-paint-blue)]`}
                       aria-hidden="true"></i>
                  </div>
                </div>
                <div>
                  <h3 class="font-bold text-gray-900 mb-1">
                    {benefit.title}
                  </h3>
                  <p class="text-sm text-gray-600">
                    {benefit.description}
                  </p>
                </div>
              </div>
          ))}
        </div>
      </div>

      <!-- Right column - Statistics and testimonial -->
      <div class="relative">
        <!-- Background decoration -->
        <div
            class="absolute -top-10 -right-10 w-72 h-72 bg-gradient-to-br from-[var(--color-paint-accent)]/20 to-[var(--color-paint-warm)]/20 rounded-full blur-3xl"></div>

        <!-- Featured testimonial -->
        <div class="bg-white rounded-2xl shadow-xl p-6 relative">
          <div class="absolute -top-4 left-6">
            <div class="bg-[var(--color-paint-accent)] rounded-full p-3">
              <svg class="w-6 h-6 text-white" fill="currentColor" viewBox="0 0 24 24">
                <path
                    d="M14.017 21v-7.391c0-5.704 3.731-9.57 8.983-10.609l.995 2.151c-2.432.917-3.995 3.638-3.995 5.849h4v10h-9.983zm-14.017 0v-7.391c0-5.704 3.748-9.57 9-10.609l.996 2.151c-2.433.917-3.996 3.638-3.996 5.849h3.983v10h-9.983z"/>
              </svg>
            </div>
          </div>
          <blockquote class="pt-4">
            <p class="text-gray-700 mb-4 italic">
              "Ein echter Retter in der Not - mit Herz, Verstand und Können.
              Wir standen vor einem handwerklichen Desaster: schlechte Vorarbeit, wenig Zeit und der
              Anspruch, es dennoch richtig gut zu machen. Dann kam Mauro Sgrò. Und mit ihm ein Team,
              das nicht nur übernommen, sondern die Situation mit beeindruckender Ruhe, Präzision
              und Verantwortung getragen hat."
            </p>
            <footer class="flex items-center gap-4">
              <div
                  class="w-12 h-12 rounded-full bg-gray-200 flex items-center justify-center font-bold text-gray-600">
                MK
              </div>
              <div>
                <div class="font-semibold text-gray-900">Dalias Bar</div>
                <div class="text-sm text-gray-500">Winterthur</div>
              </div>
            </footer>
          </blockquote>
        </div>

        <!-- Trust badges -->
        <div class="mt-8 flex flex-wrap gap-4 justify-center">
          <div class="inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-full">
            <i class="fas fa-check-circle text-green-500" aria-hidden="true"></i>
            <span class="text-sm font-medium text-gray-700">Versichert</span>
          </div>
          <div class="inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-full">
            <i class="fas fa-award text-[var(--color-paint-accent)]" aria-hidden="true"></i>
            <span class="text-sm font-medium text-gray-700">Ausgezeichnet</span>
          </div>
          <div class="inline-flex items-center gap-2 px-4 py-2 bg-gray-100 rounded-full">
            <i class="fas fa-handshake text-[var(--color-trust)]" aria-hidden="true"></i>
            <span class="text-sm font-medium text-gray-700">Vertrauenswürdig</span>
          </div>
        </div>
      </div>
    </div>
  </div>
</section>

<script>
  // Animated counter for statistics
  document.addEventListener('DOMContentLoaded', () => {
    const counters = document.querySelectorAll('.counting-number');

    const animateCounter = (counter: Element) => {
      const target = parseInt(counter.getAttribute('data-target') || '0');
      const duration = 2000;
      const increment = target / (duration / 16);
      let current = 0;

      const updateCounter = () => {
        current += increment;
        if (current < target) {
          counter.textContent = Math.floor(current).toString();
          requestAnimationFrame(updateCounter);
        } else {
          counter.textContent = target.toString();
        }
      };

      updateCounter();
    };

    const observerOptions = {
      threshold: 0.5,
      rootMargin: '0px'
    };

    const counterObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateCounter(entry.target);
          counterObserver.unobserve(entry.target);
        }
      });
    }, observerOptions);

    counters.forEach(counter => {
      counterObserver.observe(counter);
    });
  });
</script>