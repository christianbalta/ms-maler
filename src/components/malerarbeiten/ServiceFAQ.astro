---
interface FAQItem {
  question: string;
  answer: string;
}

const faqItems: FAQItem[] = [
  {
    question: "Wie lange dauern Malerarbeiten in Geschäftsräumen?",
    answer: "Die Dauer hängt von der Fläche und den betrieblichen Anforderungen ab. Kleinere Büroräume sind oft in 1–2 Tagen fertiggestellt, grössere Objekte oder ganze Etagen benötigen in der Regel 3–7 Tage. Wir planen die Arbeiten so, dass Ihr Betrieb möglichst ungestört weiterlaufen kann."
  },
  {
    question: "Können die Arbeiten ausserhalb der Geschäftszeiten durchgeführt werden?",
    answer: "Ja, wir bieten flexible Arbeitszeiten an – auch abends oder am Wochenende. So stellen wir sicher, dass Ihre Geschäftsabläufe nicht beeinträchtigt werden."
  },
  {
    question: "Welche Farben und Materialien verwenden Sie für Geschäftsräume?",
    answer: "Wir setzen auf langlebige, abriebfeste und umweltfreundliche Qualitätsfarben namhafter Hersteller. Auf Wunsch bieten wir auch spezielle Lösungen für stark frequentierte Bereiche oder Corporate-Design-Farbtöne an."
  },
  {
    question: "Wie gewährleisten Sie Sauberkeit und Sicherheit während der Arbeiten?",
    answer: "Wir arbeiten stets sauber, strukturiert und mit klar abgegrenzten Arbeitsbereichen. Böden, Möbel und technische Geräte werden professionell abgedeckt. Nach Abschluss der Arbeiten wird alles gründlich gereinigt und betriebsbereit hinterlassen."
  },
  {
    question: "Bieten Sie auch Beratung zu Farbkonzepten im Firmenkontext an?",
    answer: "Ja, wir entwickeln auf Wunsch komplette Farb- und Gestaltungskonzepte, die zu Ihrem Corporate Design und Ihrer Markenidentität passen – ideal für Büros, Praxen, Shops und Empfangsbereiche."
  },
  {
    question: "Wie läuft die Angebotserstellung ab?",
    answer: "Nach einem kostenlosen Besichtigungstermin analysieren wir Ihre Anforderungen und erstellen innerhalb von 24–48 Stunden eine detaillierte, transparente Offerte mit allen Leistungen, Materialien und Zeitplan."
  },
  {
    question: "Welche Garantie bieten Sie auf Ihre Arbeiten?",
    answer: "Wir gewähren 5 Jahre Garantie auf unsere Malerarbeiten, sowohl auf die Ausführung als auch auf die Materialien. Sollte nach Abschluss etwas nicht zu Ihrer Zufriedenheit sein, reagieren wir umgehend."
  },
  {
    question: "In welchen Regionen führen Sie Aufträge für Unternehmen aus?",
    answer: "Unser Einsatzgebiet umfasst Winterthur und den Grossraum Zürich, Schaffhausen, Frauenfeld und Umgebung. Für grössere Gewerbeprojekte sind auch Einsätze in der gesamten Deutschschweiz möglich."
  }
];
---

<section class="py-20 sm:py-24 bg-[var(--color-accent)]" data-animate>
  <div class="container mx-auto max-w-4xl px-4 sm:px-6">
    <!-- Section header -->
    <div class="text-center max-w-3xl mx-auto mb-12">
      <p class="text-xs tracking-[0.18em] text-[var(--color-professional)] font-medium uppercase mb-3">
        FAQ
      </p>
      <h2 class="text-3xl sm:text-4xl md:text-5xl font-extrabold text-gray-900 leading-tight mb-5">
        Häufig gestellte Fragen
      </h2>
      <p class="text-lg text-gray-600">
        Hier finden Sie Antworten auf die wichtigsten Fragen zu unseren Malerarbeiten.
      </p>
    </div>

    <!-- FAQ items -->
    <div class="space-y-4" id="faqAccordion">
      {faqItems.map((item, index) => (
          <div
              class="faq-item bg-white rounded-xl shadow-sm overflow-hidden"
              style={`animation-delay: ${index * 50}ms`}
          >
            <button
                class="faq-trigger w-full px-6 py-5 text-left flex items-center justify-between hover:bg-gray-50 transition-colors focus-ring"
                aria-expanded="false"
                aria-controls={`faq-content-${index}`}
            >
            <span class="text-lg font-semibold text-gray-900 pr-4">
              {item.question}
            </span>
              <span class="faq-icon flex-shrink-0 w-6 h-6 text-[var(--color-paint-blue)] transition-transform duration-300">
              <svg fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path>
              </svg>
            </span>
            </button>
            <div
                id={`faq-content-${index}`}
                class="faq-content hidden px-6 pb-5"
                aria-hidden="true"
            >
              <p class="text-gray-600 leading-relaxed">
                {item.answer}
              </p>
            </div>
          </div>
      ))}
    </div>
  </div>
</section>

<script>
  // FAQ accordion functionality
  document.addEventListener('DOMContentLoaded', () => {
    const faqTriggers = document.querySelectorAll('.faq-trigger');

    faqTriggers.forEach((trigger) => {
      trigger.addEventListener('click', () => {
        const faqItem = trigger.parentElement;
        const content = faqItem?.querySelector('.faq-content');
        const icon = trigger.querySelector('.faq-icon');
        const isOpen = trigger.getAttribute('aria-expanded') === 'true';

        // Close all other FAQ items
        faqTriggers.forEach((otherTrigger) => {
          if (otherTrigger !== trigger) {
            const otherItem = otherTrigger.parentElement;
            const otherContent = otherItem?.querySelector('.faq-content');
            const otherIcon = otherTrigger.querySelector('.faq-icon');

            otherTrigger.setAttribute('aria-expanded', 'false');
            if (otherContent) {
              otherContent.classList.add('hidden');
              otherContent.setAttribute('aria-hidden', 'true');
            }
            if (otherIcon) {
              otherIcon.style.transform = 'rotate(0deg)';
            }
          }
        });

        // Toggle current FAQ item
        if (isOpen) {
          trigger.setAttribute('aria-expanded', 'false');
          if (content) {
            content.classList.add('hidden');
            content.setAttribute('aria-hidden', 'true');
          }
          if (icon) {
            icon.style.transform = 'rotate(0deg)';
          }
        } else {
          trigger.setAttribute('aria-expanded', 'true');
          if (content) {
            content.classList.remove('hidden');
            content.setAttribute('aria-hidden', 'false');
          }
          if (icon) {
            icon.style.transform = 'rotate(180deg)';
          }
        }
      });
    });

    // Keyboard navigation
    faqTriggers.forEach((trigger, index) => {
      trigger.addEventListener('keydown', (e) => {
        const key = e.key;
        let targetIndex = index;

        if (key === 'ArrowDown') {
          e.preventDefault();
          targetIndex = index < faqTriggers.length - 1 ? index + 1 : 0;
        } else if (key === 'ArrowUp') {
          e.preventDefault();
          targetIndex = index > 0 ? index - 1 : faqTriggers.length - 1;
        } else if (key === 'Home') {
          e.preventDefault();
          targetIndex = 0;
        } else if (key === 'End') {
          e.preventDefault();
          targetIndex = faqTriggers.length - 1;
        }

        if (targetIndex !== index) {
          (faqTriggers[targetIndex] as HTMLElement).focus();
        }
      });
    });
  });
</script>

<style>
  /* Smooth transitions for FAQ items */
  .faq-content {
    max-height: 0;
    overflow: hidden;
    transition: max-height 0.3s ease-out;
  }

  .faq-content:not(.hidden) {
    max-height: 500px;
    transition: max-height 0.3s ease-in;
  }

  .faq-icon {
    transition: transform 0.3s ease;
  }
</style>